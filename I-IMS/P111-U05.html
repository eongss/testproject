<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Dashboard - NiceAdmin Bootstrap Template</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="./mk/img/iljin-icon.png" rel="icon">
  <link href="./mk/img/iljin-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
  <!-- Data Tables -->
  <link href="assets/vendor/DataTables/datatables.min.css" rel="stylesheet">
  <!-- menuCustum -->
  <link href="./mk/css/menuCustum.css" rel="stylesheet">
  <link href="mk/css/basic.css" rel="stylesheet">
  <!-- graph -->
  <link href="./mk/css/graph-style.css" rel="stylesheet">

</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">
    <div class="d-flex align-items-center justify-content-between">
      <a href="./P000-U01.html" class="logo d-flex align-items-center">
        <img src="./mk/img/i-ims.png">
      </a>
      <i class="bi bi-list toggle-sidebar-btn" style="margin-left: 0%;"></i>
    </div>
    <nav class="header-nav ms-auto">
      <ul class="d-flex align-items-center">
        <li class="nav-item d-block d-lg-none">
          <a class="nav-link nav-icon search-bar-toggle " href="#">
            <i class="bi bi-search"></i>
          </a>
        </li><!-- End Search Icon-->
        <div class="d-flex align-items-center justify-content-between">
          <span class="d-none d-lg-block" id="spanTime"></span>
        </div>
        <li class="nav-item dropdown pe-3">
          <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
            <span class="d-none d-md-block dropdown-toggle ps-2">Admin</span>
          </a><!-- End Profile Iamge Icon -->
          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
            <li class="dropdown-header">
              <h6>Kevin Anderson</h6>
              <span>Web Designer</span>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li>
              <a class="dropdown-item d-flex align-items-center" href="P000-U01.html">
                <i class="bi bi-person"></i>
                <span>My Profile</span>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li>
              <a class="dropdown-item d-flex align-items-center" href="P000-U01.html">
                <i class="bi bi-box-arrow-right"></i>
                <span>Sign Out</span>
              </a>
            </li>
          </ul><!-- End Profile Dropdown Items -->
        </li><!-- End Profile Nav -->
      </ul>
    </nav><!-- End Icons Navigation -->
  </header><!-- End Header -->

  <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar">
    <ul class="sidebar-nav" id="sidebar-nav">
      <!-- Start login Nav -->
      <li class="nav-item top-margin-three">
        <a class="nav-link collapsed" href="P110-U01.html"><i class="bi bi-app"></i><span>운영현황판</span></a>
      </li>
      <!-- End login Nav -->
      <!-- Strart Curremt Nav -->
      <li class="nav-item">
        <a class="nav-link" data-bs-target="#current-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-app"></i><span>현황</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="current-nav" class="nav-content collapse show" data-bs-parent="#sidebar-nav">
          <li><a href="P111-U01.html"><i class="bi bi-circle"></i><span>장애발생현황</span></a></li>
          <li><a href="P111-U02.html"><i class="bi bi-circle"></i><span>발전소 운영상태</span></a></li>
          <li><a href="P111-U02-1.html"><i class="bi bi-circle"></i><span>발전소 운영상태2</span></a></li>
          <li><a href="P111-U03.html"><i class="bi bi-circle"></i><span>전력생산</span></a></li>
          <li><a href="P111-U04.html"><i class="bi bi-circle"></i><span>전력판매</span></a></li>
          <li><a href="P111-U05.html" class="active"><i class="bi bi-circle"></i><span>전격거래시장현황</span></a></li>
          <li><a href="P111-U06.html"><i class="bi bi-circle"></i><span>서버운영현황</span></a></li>
        </ul>
      </li>
      <!-- End Curremt Nav -->
      <!-- Strart antecedents Nav -->
      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#antecedents-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-app"></i><span>이력</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="antecedents-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li><a href="P120-U01.html"><i class="bi bi-circle"></i><span>가격변동</span></a></li>
          <li><a href="P120-U02.html"><i class="bi bi-circle"></i><span>장애발생이력</span></a></li>
          <li><a href="P120-U03.html"><i class="bi bi-circle"></i><span>전력생산이력</span></a></li>
          <li><a href="P120-U04.html"><i class="bi bi-circle"></i><span>전력판매이력</span></a></li>
          <li><a href="P120-U05.html"><i class="bi bi-circle"></i><span>접속이력</span></a></li>
        </ul>
      </li>
      <!-- End antecedents Nav -->
      <!-- Strart measure Nav -->
       <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#measure-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-app"></i><span>계측</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="measure-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li><a href="P130-U01.html"><i class="bi bi-circle"></i><span>등록설비 조회</span></a></li>
          <li><a href="P130-U02.html"><i class="bi bi-circle"></i><span>전력량계 계측결과</span></a></li>
          <li><a href="P130-U03.html"><i class="bi bi-circle"></i><span>기상정보 계측결과</span></a></li>
          <li><a href="P130-U04.html"><i class="bi bi-circle"></i><span>서버자원 계측결과</span></a></li>
        </ul>
      </li>
      <!-- End measure Nav -->
      <!-- Strart statistics Nav -->
       <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#statistics-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-app"></i><span>통계</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="statistics-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li><a href="P140-U02.html"><i class="bi bi-circle"></i><span>발전소구성유형</span></a></li>
          <li><a href="P140-U03.html"><i class="bi bi-circle"></i><span>전력판매효율</span></a></li>
          <li><a href="P140-U04.html"><i class="bi bi-circle"></i><span>발전소별운영성과</span></a></li>
          <li><a href="P140-U05.html"><i class="bi bi-circle"></i><span>발전소별전력판매</span></a></li>
          <li><a href="P140-U06.html"><i class="bi bi-circle"></i><span>발전소별설비효율</span></a></li>
          <li><a href="P140-U07.html"><i class="bi bi-circle"></i><span>발전설비별운영효율</span></a></li>
          <li><a href="P140-U08.html"><i class="bi bi-circle"></i><span>발전소운영환경</span></a></li>
        </ul>
      </li>
      <!-- End statistics Nav -->
      <!-- Strart price Nav -->
      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#price-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-app"></i><span>전력가</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="price-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li><a href="P150-U01.html"><i class="bi bi-circle"></i><span>SMP 육지</span></a></li>
          <li><a href="P150-U02.html"><i class="bi bi-circle"></i><span>SMP 제주</span></a></li>
          <li><a href="P150-U03.html"><i class="bi bi-circle"></i><span>REC</span></a></li>
        </ul>
      </li>
      <!-- End price Nav -->
      <!-- Strart setting Nav -->
      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#setting-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-app"></i><span>관리</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="setting-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
            <li><a href="P030-U01.html"><i class="bi bi-circle"></i><span>발전소 관리</span></a></li>
            <li><a href="P042-U01.html"><i class="bi bi-circle"></i><span>설비 관리</span></a></li>
            <li><a href="P000-L01.html"><i class="bi bi-circle"></i><span>MENU 관리</span></a></li>
            <li><a href="P021-U01.html"><i class="bi bi-circle"></i><span>ROLE 관리</span></a></li>
            <li><a href="P010-U01.html"><i class="bi bi-circle"></i><span>사용자 관리</span></a></li>
            <li><a href="P041-U01.html"><i class="bi bi-circle"></i><span>공통코드 관리</span></a></li>
        </ul>
      </li>
      <!-- End setting Nav -->
    </ul>
  </aside><!-- End Sidebar-->

  <main id="main" class="main">
    
    <!-- 조회 구역 시작-->
    <div class="pagetitle">
      <div class="row">
        <div class="col-md-3 col-lg-3">
          <select id="inputState" class="form-select">
            <option selected="">Choose...</option>
            <option>...</option>
          </select>
        </div>
        <div class="col-md-2 col-lg-2">
            <button type="button" class="btn btn-seacch"><i class="bi bi-search" style="margin-right: 10px;"></i>조회</button>
        </div>
      </div>
    </div>
    <!-- 조회 구역 종료-->

    <section class="section dashboard">
      <!-- 메인구성 목록 시작-->
      <div class="row">
        <!-- 메인 카드 1 시작-->
        <div class="col-md-12 col-lg-6">
          <div class="card">
            <div class="card-body" style="min-height: 290px;">
              <div class="row g-0">
                <div class="col-md-5">
                  <div class="card-img-top">
                    <div class="graph_style graph_style_card">
                      <div class="level level01">
                        <span class="img"></span>
                        <strong class="txt">정상</strong>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-7">
                  <div class="row">
                    <div style="margin-bottom: 10px; margin-top: 20px;">
                      피크 예상시간 <strong>09~10</strong>시
                    </div>
                    <div class="row">
                      <h4>최대부하</h4>
                      <div class="col-md-8">
                        <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" style="width: 75%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                      </div>
                      <div class="col-md-4">
                        <div class="progress-bar_value">75,300 MW</div>
                      </div>
                      <h4>공급예비력</h4>
                      <div class="col-md-8">
                        <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar" style="width: 17%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                      </div>
                      <div class="col-md-4">
                        <div class="progress-bar_value">17,043 MW</div>
                      </div>
                      <h4>공급예비율</h4>
                      <div class="col-md-8">
                        <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width: 23%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                      </div>
                      <div class="col-md-4">
                        <div class="progress-bar_value">23 %</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- 메인 카드 1 끝-->
        <!-- 메인 카드 2 시작-->
        <div class="col-md-12 col-lg-6">
          <div class="card">
            <div class="card-body" style="min-height: 290px;">
              <div class="row g-0">
                <div class="col-md-5">
                  <div class="card-img-top">
                    <div class="graph_style graph_style_card">
                      <div class="level level01">
                        <span class="img"></span>
                        <strong class="txt">정상</strong>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-7">
                  <div class="row">
                    <h4 class="top-margin-three">공급능력</h4>
                    <div class="col-md-8">
                      <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated " role="progressbar" style="width: 84%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                    </div>
                    <div class="col-md-4">
                      <div class="progress-bar_value">83,841 MW</div>
                    </div>
                    <h4>현재부하</h4>
                    <div class="col-md-8">
                      <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" style="width: 61%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                    </div>
                    <div class="col-md-4">
                      <div class="progress-bar_value">61,453 MW</div>
                    </div>
                    <h4>공급예비력</h4>
                    <div class="col-md-8">
                      <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar" style="width: 22%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                    </div>
                    <div class="col-md-4">
                      <div class="progress-bar_value">22,388 MW</div>
                    </div>
                    <h4>공급예비율</h4>
                    <div class="col-md-8">
                      <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width: 36%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                    </div>
                    <div class="col-md-4">
                      <div class="progress-bar_value">36.43 %</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- 메인 카드 2 끝-->
        <!-- 메인 카드 3 시작-->
        <div class="col-md-12 col-lg-6">
          <div class="card">
            <div class="card-body top-margin-two" style="min-height: 260px;">
              <P style="float:right; margin-bottom: 0%;">(단위: 원/kWh)</P>
              <table class="table table-bordered border-dark" >
                <thead>
                  <tr class="table-secondary border-dark">
                    <th scope="col">구분</th>
                    <th scope="col">육지</th>
                    <th scope="col">제주</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="table-secondary border-dark fontboard">거래일</td>
                    <td colspan="2">2022.03.14</td>
                  </tr>
                  <tr>
                    <td class="table-secondary border-dark fontboard">최고가</td>
                    <td>198.57</td>
                    <td>288.69</td>
                  </tr>
                  <tr>
                    <td class="table-secondary border-dark fontboard">최소가</td>
                    <td>109.17</td>
                    <td>192.56</td>
                  </tr>
                  <tr>
                    <td class="table-secondary border-dark fontboard">평균가</td>
                    <td>182.98</td>
                    <td>224.53</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- 메인 카드 3 끝-->
        <!-- 메인 카드 4 시작-->
        <div class="col-md-12 col-lg-6">
          <div class="card">
            <div class="card-body top-margin-two" style="min-height: 260px;">
              <P style="float:left; margin-bottom: 0%; display: inline;">매주 화, 목요일 10:00 ~ 16:00 개장</P>
              <P style="float:right; margin-bottom: 0%; display: inline;">(단위: REC,원/REC)</P>
              <table class="table table-bordered border-dark" >
                <thead>
                  <tr class="table-secondary border-dark">
                    <th scope="col" colspan="4">1REC=1MWh(가중치에 따라 변동)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="table-secondary border-dark fontboard">거래일</td>
                    <td colspan="3">2022.03.14</td>
                  </tr>
                  <tr>
                    <td class="table-secondary border-dark fontboard">최고가</td>
                    <td>41,500</td>
                    <td class="table-secondary border-dark fontboard">거래량</td>
                    <td>71,157</td>
                  </tr>
                  <tr>
                    <td class="table-secondary border-dark fontboard">최저가</td>
                    <td>36,000</td>
                    <td class="table-secondary border-dark fontboard">종가</td>
                    <td>40,500</td>
                  </tr>
                  <tr>
                    <td class="table-secondary border-dark fontboard">평균가</td>
                    <td>40,546</td>
                    <td></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- 메인 카드 4 끝-->
        <!-- 메인 카드 5 시작-->
        <div class="col-md-12 col-lg-12">
          <div class="card">
            <div class="card-header formBox">
              <h4>실시간 전력수급 현황</h4>
            </div>
            <div class="card-body" style="min-height: 400px;">
              <div class="top-margin-two" id="dynamicUpdate"></div>
            </div>
          </div>
        </div>
        <!-- 메인 카드 5 끝-->
      </div>
      <!-- 메인 설정 목록 종료-->
    </section>
  </main>
  

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">
    <div class="copyright">&copy; Copyright <strong><span>EN-IMS</span></strong>. All Rights Reserved</div>
  </footer>
  <!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- jquery JS Files -->
  <script src="assets/js/jquery.min.js"></script>
  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <!-- Data Tables JS Files -->
  <script src="assets/vendor/DataTables/datatables.min.js"></script>

  <script src="./mk/js/proj4.js"></script>
  <script src="./highchartsstock/code/highstock.js"></script>
  <script src="./highchartsstock/code/highcharts-more.js"></script>
  <script src="./highchartsstock/code/modules/exporting.js"></script>
  <script src="./highchartsstock/code/modules/export-data.js"></script>

  <script>

    function getTime(){
      var today = new Date();
      var systime = today.toLocaleString();
      document.getElementById('spanTime').textContent = systime;
    }
    function init(){
      setInterval(getTime, 1000);
    }
    init();

  </script>

  <script>
    $(document).ready(function(){
          drawChart(null, null, null);
        });
        function lPad(str, num, chr) {  
          str = str+"";
          if ( !str || !chr || str.length >= num )
            return str;
          var max = num - str.length;
          for ( var i = 0; i < max; i++ ) {
            str = chr + str;
          }
          return str;
        }

        function drawChart(par1, par2, par3){

          var x = [ 62447,62323,61816,61644,61378,61331,60844,60711,60214,60007,59673,59581,59629,59516,59223,59095,59383,58860,58600,58544,58447,58553,58252,58553,58311,57943,58095,57817,57500,57731,57696,57539,57139,57264,57224,57295,57156,57175,57221,57357,57500,57577,57576,57269,57064,57355,57583,57559,57418,57420,57744,57784,58140,58117,58133,58149,58087,58127,58211,58637,58800,59122,59196,59328,59555,59498,59601,59756,60103,60372,60479,60459,60688,61247,61683,61944,62015,62198,62508,62859,63283,63349,63573,63427,64074,64262,64663,64783,64832,65001,64877,65173,64990,64849,65246,65117,65417,66184,66136,66285,66265,66264,66499,66512,66046,66209,66081,65708,65359,64844,64595,64201,63898,63781,63438,63697,63459,63162,63214,63027,62462,62481,62373,62314,62157,62178,62059,61839,61847,61749,62016,62294,62082,62279,62132,61992,62042,61706,61510,61538,61156,60971,60392,59971,59125,59151,59198,59213,58973,59030,58787,58698,58756,59000,59013,59480,60166,60840,61328,61573,61518,61816,62204,62664,62933,62708,62737,62841,63043,63194,62957,62981,63006,63077,63266,63352,63441,63496,63479,63317,63448,63252,63736,64130,64054,63957,63971,64222,64500,64693 ];
          var t_time = [ 20220401000000,20220401000500,20220401001000,20220401001500,20220401002000,20220401002500,20220401003000,20220401003500,20220401004000,20220401004500,20220401005000,20220401005500,20220401010000,20220401010500,20220401011000,20220401011500,20220401012000,20220401012500,20220401013000,20220401013500,20220401014000,20220401014500,20220401015000,20220401015500,20220401020000,20220401020500,20220401021000,20220401021500,20220401022000,20220401022500,20220401023000,20220401023500,20220401024000,20220401024500,20220401025000,20220401025500,20220401030000,20220401030500,20220401031000,20220401031500,20220401032000,20220401032500,20220401033000,20220401033500,20220401034000,20220401034500,20220401035000,20220401035500,20220401040000,20220401040500,20220401041000,20220401041500,20220401042000,20220401042500,20220401043000,20220401043500,20220401044000,20220401044500,20220401045000,20220401045500,20220401050000,20220401050500,20220401051000,20220401051500,20220401052000,20220401052500,20220401053000,20220401053500,20220401054000,20220401054500,20220401055000,20220401055500,20220401060000,20220401060500,20220401061000,20220401061500,20220401062000,20220401062500,20220401063000,20220401063500,20220401064000,20220401064500,20220401065000,20220401065500,20220401070000,20220401070500,20220401071000,20220401071500,20220401072000,20220401072500,20220401073000,20220401073500,20220401074000,20220401074500,20220401075000,20220401075500,20220401080000,20220401080500,20220401081000,20220401081500,20220401082000,20220401082500,20220401083000,20220401083500,20220401084000,20220401084500,20220401085000,20220401085500,20220401090000,20220401090500,20220401091000,20220401091500,20220401092000,20220401092500,20220401093000,20220401093500,20220401094000,20220401094500,20220401095000,20220401095500,20220401100000,20220401100500,20220401101000,20220401101500,20220401102000,20220401102500,20220401103000,20220401103500,20220401104000,20220401104500,20220401105000,20220401105500,20220401110000,20220401110500,20220401111000,20220401111500,20220401112000,20220401112500,20220401113000,20220401113500,20220401114000,20220401114500,20220401115000,20220401115500,20220401120000,20220401120500,20220401121000,20220401121500,20220401122000,20220401122500,20220401123000,20220401123500,20220401124000,20220401124500,20220401125000,20220401125500,20220401130000,20220401130500,20220401131000,20220401131500,20220401132000,20220401132500,20220401133000,20220401133500,20220401134000,20220401134500,20220401135000,20220401135500,20220401140000,20220401140500,20220401141000,20220401141500,20220401142000,20220401142500,20220401143000,20220401143500,20220401144000,20220401144500,20220401145000 ];

          var y = [ 61562,61318,60943,60375,60207,59780,59721,59453,59117,59027,58612,58636,58221,58412,58268,58275,57958,58173,57631,57581,57653,57469,57216,57096,57093,57163,56922,56956,56942,56900,56728,56795,56395,56604,56472,56383,56223,56159,55889,56283,56229,56584,56400,56380,56304,56195,56429,56527,56678,56591,56530,56719,56742,56898,57054,57100,57199,57207,57134,57077,57638,58042,58181,57907,58146,58466,58653,58816,58774,59028,59491,59653,59769,60256,60575,60938,60996,61298,61492,61991,62013,62318,62697,62965,63413,64091,64349,64939,65143,65366,65549,66082,66242,66490,66907,67063,67861,68652,69050,69092,69594,70096,70131,70761,70959,71132,71103,70518,70505,69716,69873,69751,69878,69698,69785,69637,69661,69605,69546,69687,69359,69242,68913,69303,69218,69188,68963,68995,68832,68811,68568,68538,68400,68466,68427,68505,68142,67939,68093,67994,67422,67595,67307,66569,65737,65475,65208,65064,65181,64952,64848,64913,64985,65178,65009,65415,65842,66474,66875,67244,67048,67313,67651,67994,68027,68378,68311,68562,68513,68582,68669,68630,68469,68576,68841,68776,68570,68339,68406,68074,68010,68045,68056,68022,68456,68517,68404,68229,68315,68622,68919,69135,68882,68695,68846,69217,69068,69257,69600,69699,69846,69846,69959,70104,70000,69591,69187,69197,69533,69841,69687,69787,70111,70067,70149,70078,69986,69596,69801,70141,70279,70529,70401,70895,70968,70746,70841,70901,70994,71017,71215,70969,71013,71011,70416,70490,70846,70757,70220,69812,69710,69727,69473,69138,69011,69052,68617,68655,68519,68371,68225,67728,67483,67503,67628,67192,67364,66946,67163,66925,66460,66683,66559,66738,66263,66325,66062,66028,65987,65712,65395,65333,65489,65132,64808,64782,64954,65595,65619,65265,65288,65028,64900,64396,64463,64129,63674,63116 ];
          var y_time = [ 20220331000000,20220331000500,20220331001000,20220331001500,20220331002000,20220331002500,20220331003000,20220331003500,20220331004000,20220331004500,20220331005000,20220331005500,20220331010000,20220331010500,20220331011000,20220331011500,20220331012000,20220331012500,20220331013000,20220331013500,20220331014000,20220331014500,20220331015000,20220331015500,20220331020000,20220331020500,20220331021000,20220331021500,20220331022000,20220331022500,20220331023000,20220331023500,20220331024000,20220331024500,20220331025000,20220331025500,20220331030000,20220331030500,20220331031000,20220331031500,20220331032000,20220331032500,20220331033000,20220331033500,20220331034000,20220331034500,20220331035000,20220331035500,20220331040000,20220331040500,20220331041000,20220331041500,20220331042000,20220331042500,20220331043000,20220331043500,20220331044000,20220331044500,20220331045000,20220331045500,20220331050000,20220331050500,20220331051000,20220331051500,20220331052000,20220331052500,20220331053000,20220331053500,20220331054000,20220331054500,20220331055000,20220331055500,20220331060000,20220331060500,20220331061000,20220331061500,20220331062000,20220331062500,20220331063000,20220331063500,20220331064000,20220331064500,20220331065000,20220331065500,20220331070000,20220331070500,20220331071000,20220331071500,20220331072000,20220331072500,20220331073000,20220331073500,20220331074000,20220331074500,20220331075000,20220331075500,20220331080000,20220331080500,20220331081000,20220331081500,20220331082000,20220331082500,20220331083000,20220331083500,20220331084000,20220331084500,20220331085000,20220331085500,20220331090000,20220331090500,20220331091000,20220331091500,20220331092000,20220331092500,20220331093000,20220331093500,20220331094000,20220331094500,20220331095000,20220331095500,20220331100000,20220331100500,20220331101000,20220331101500,20220331102000,20220331102500,20220331103000,20220331103500,20220331104000,20220331104500,20220331105000,20220331105500,20220331110000,20220331110500,20220331111000,20220331111500,20220331112000,20220331112500,20220331113000,20220331113500,20220331114000,20220331114500,20220331115000,20220331115500,20220331120000,20220331120500,20220331121000,20220331121500,20220331122000,20220331122500,20220331123000,20220331123500,20220331124000,20220331124500,20220331125000,20220331125500,20220331130000,20220331130500,20220331131000,20220331131500,20220331132000,20220331132500,20220331133000,20220331133500,20220331134000,20220331134500,20220331135000,20220331135500,20220331140000,20220331140500,20220331141000,20220331141500,20220331142000,20220331142500,20220331143000,20220331143500,20220331144000,20220331144500,20220331145000,20220331145500,20220331150000,20220331150500,20220331151000,20220331151500,20220331152000,20220331152500,20220331153000,20220331153500,20220331154000,20220331154500,20220331155000,20220331155500,20220331160000,20220331160500,20220331161000,20220331161500,20220331162000,20220331162500,20220331163000,20220331163500,20220331164000,20220331164500,20220331165000,20220331165500,20220331170000,20220331170500,20220331171000,20220331171500,20220331172000,20220331172500,20220331173000,20220331173500,20220331174000,20220331174500,20220331175000,20220331175500,20220331180000,20220331180500,20220331181000,20220331181500,20220331182000,20220331182500,20220331183000,20220331183500,20220331184000,20220331184500,20220331185000,20220331185500,20220331190000,20220331190500,20220331191000,20220331191500,20220331192000,20220331192500,20220331193000,20220331193500,20220331194000,20220331194500,20220331195000,20220331195500,20220331200000,20220331200500,20220331201000,20220331201500,20220331202000,20220331202500,20220331203000,20220331203500,20220331204000,20220331204500,20220331205000,20220331205500,20220331210000,20220331210500,20220331211000,20220331211500,20220331212000,20220331212500,20220331213000,20220331213500,20220331214000,20220331214500,20220331215000,20220331215500,20220331220000,20220331220500,20220331221000,20220331221500,20220331222000,20220331222500,20220331223000,20220331223500,20220331224000,20220331224500,20220331225000,20220331225500,20220331230000,20220331230500,20220331231000,20220331231500,20220331232000,20220331232500,20220331233000,20220331233500,20220331234000,20220331234500,20220331235000,20220331235500 ];

          var todayTime = '2022.04.01(금)';
          var zz = '2022.03.31(목)';
          var x1 = [];
          var y1 = [];
          
          if(par1 != null){
            for (var i = 0; i < par1.length; i++) {
              if(x1[i] != 0 ){
                if(x[i] != undefined){
                  x1.push(x[i]);
                }
              }
            }
            if(x1.length > 0){
              x = x1.map(Number);
            }
          }
          
          if(par2 != null){
            for (var i = 0; i < par2.length; i++) {
              if(y1[i] != 0 ){
                if(y[i] != undefined){
                  y1.push(x[i]);
                }
              }
            }
            if(y1.length > 0){
              y = y1.map(Number);
            }
          }	
          
          var dateType = {
            'xDateFormat' : '시간:'+'%H:%M'
          }
          
          Highcharts.setOptions({
              lang: {
                thousandsSep: ','
              }
          })
          
          var option = {
              
              title : null,
              xAxis : {
                type: 'datetime',
                labels:{
                  formatter: function(){
                    var ret = Highcharts.dateFormat('%H', this.value);
                    var cnt = 0;
                    if(this.value == 86400000){
                      ret = 24;
                    }  
                    return ret;
                  }
                },
                
                tickInterval : 3600000*3, 
                title: {
                  text:'시간',
                  y:-5,
                  style: {
                    fontSize : '12px', 
                    fontWeight : 'bold',
                    color : 'blue'
                  }
                },
                gridLineWidth: 1
                
              },
              yAxis: {
                title: {
                  text:'MW',
                  textalign: 'right',
                  rotation : 0,
                  x:21,
                  y:-305,
                  style: {
                    fontSize : '13px', 
                    color : 'blue'
                  }
                },
                labels:{
                  format:'{value:,.0f}'
                },
                
              },
              tooltip: {
                formatter:function(){
                  var hr = '';
                  var min = '';
                  
                  var seriesName = todayTime;
                  var currentPoint = this;
                  var currentSeries = currentPoint.series;
                  var chart = currentSeries.chart;
                  
                  chart.series.forEach(function(series){
                     series.points.forEach(function(point){
                      if(currentSeries.userOptions.stack === series.userOptions.stack && currentPoint.key === point.category){
                        hr = t_time[point.index].toString().substr(8,2);
                         min = t_time[point.index].toString().substr(10,2);
                       }
                     })
                   })
                  
                  hr = lPad(hr,2,'0');
                  min = lPad(min,2,'0');
                  
                  var s =  seriesName+' : <b>'+this.y.toLocaleString(undefined,{maximumFractionDigits: 5})+' MW'+'</b><br>'+'시간: '+hr+':'+min;
                  
                  if(this.series.name == 'Series 2'){
                    return false;
                  }
                  
                  return s;
                }
              },
              chart: {
                defaultSeriesType: 'spline'
              },
              exporting: {
                enabled: false
              },
              plotOptions: {
                spline: {
                  pointStart : 0,
                  pointEnd : 24,
                  lineWidth: 3, 
                  states: {
                    hover: {
                      lineWidth: 4
                    }
                  },
                  marker: {
                    enabled: false
                  },
                  pointInterval: 300000
                }
              },
              legend: {
                align: 'left',
                verticalAlign: 'top',
                margin:25,
                enabled:false
              },
              series : null
          }
          
          $('#dynamicUpdate').highcharts($.extend(true, option,{
            
            series: [{
              "name": "금일 전력수요",
              "data": x, 
              "color" : 'rgb(223,70,74)',
              "zIndex" : 1
            },{
              "name": '',
              "data": y,
              "color" : 'rgb(24,146,24,0)',
              "zones" : [{
                "dashStyle" : 'ShortDot'
                
              }]
            }]
          }));
        }
  </script>

</body>

</html>