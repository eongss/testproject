<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Dashboard - NiceAdmin Bootstrap Template</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="./mk/img/iljin-icon.png" rel="icon">
  <link href="./mk/img/iljin-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- bootstrap Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
  <!-- Data Tables -->
  <link href="assets/vendor/DataTables/datatables.min.css" rel="stylesheet">
  <!-- menuCustum -->
  <link href="./mk/css/menuCustum.css" rel="stylesheet">
  <link href="mk/css/basic.css" rel="stylesheet">
  <!-- graph -->
  <link href="./mk/css/graph-style.css" rel="stylesheet">

  <style>
    #Mapcontainer {
      min-width: 310px;
      max-width: 900px;
      min-height: 800px;
      margin: 0 auto;
    }
    .highcharts-no-tooltip {
      display: none;
    }
    #dynamicUpdate {
      min-height: 490px;
    }

    #errorDataTable{
      min-height: 170px;
    }

    #solid1{
      width: 420px;
      height: 210px;
    }
    #solid2{
      width: 420px;
      height: 210px;
    }
    #solid3{
      width: 420px;
      height: 210px;
    }
  </style>
  
</head>

<body class="toggle-sidebar">

  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">
    <div class="d-flex align-items-center justify-content-between">
      <a href="./P000-U01.html" class="logo d-flex align-items-center">
        <img src="./mk/img/i-ims.png">
      </a>
      <i class="bi bi-list toggle-sidebar-btn" style="margin-left: 0%;"></i>
    </div>
    <nav class="header-nav ms-auto">
      <ul class="d-flex align-items-center">
        <li class="nav-item d-block d-lg-none">
          <a class="nav-link nav-icon search-bar-toggle " href="#">
            <i class="bi bi-search"></i>
          </a>
        </li><!-- End Search Icon-->
        <div class="d-flex align-items-center justify-content-between">
          <span class="d-none d-lg-block" id="spanTime"></span>
        </div>
        <li class="nav-item dropdown pe-3">
          <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
            <span class="d-none d-md-block dropdown-toggle ps-2">Admin</span>
          </a><!-- End Profile Iamge Icon -->
          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
            <li class="dropdown-header">
              <h6>Kevin Anderson</h6>
              <span>Web Designer</span>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li>
              <a class="dropdown-item d-flex align-items-center" href="P000-U01.html">
                <i class="bi bi-person"></i>
                <span>My Profile</span>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li>
              <a class="dropdown-item d-flex align-items-center" href="P000-U01.html">
                <i class="bi bi-box-arrow-right"></i>
                <span>Sign Out</span>
              </a>
            </li>
          </ul><!-- End Profile Dropdown Items -->
        </li><!-- End Profile Nav -->
      </ul>
    </nav><!-- End Icons Navigation -->
  </header><!-- End Header -->

  <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar">
    <ul class="sidebar-nav" id="sidebar-nav">
      <!-- Start login Nav -->
      <li class="nav-item top-margin-three"><a class="nav-link" href="P110-U01.html"><i class="bi bi-app"></i><span>운영현황판</span></a></li>
      <!-- End login Nav -->
      <!-- Strart Curremt Nav -->
      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#current-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-app"></i><span>현황</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="current-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li><a href="P111-U01.html"><i class="bi bi-circle"></i><span>장애발생현황</span></a></li>
          <li><a href="P111-U02.html"><i class="bi bi-circle"></i><span>발전소 운영상태</span></a></li>
          <li><a href="P111-U02-1.html"><i class="bi bi-circle"></i><span>발전소 운영상태2</span></a></li>
          <li><a href="P111-U03.html"><i class="bi bi-circle"></i><span>전력생산</span></a></li>
          <li><a href="P111-U04.html"><i class="bi bi-circle"></i><span>전력판매</span></a></li>
          <li><a href="P111-U05.html"><i class="bi bi-circle"></i><span>전격거래시장현황</span></a></li>
          <li><a href="P111-U06.html"><i class="bi bi-circle"></i><span>서버운영현황</span></a></li>
        </ul>
      </li>
      <!-- End Curremt Nav -->
      <!-- Strart antecedents Nav -->
      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#antecedents-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-app"></i><span>이력</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="antecedents-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li><a href="P120-U01.html"><i class="bi bi-circle"></i><span>가격변동</span></a></li>
          <li><a href="P120-U02.html"><i class="bi bi-circle"></i><span>장애발생이력</span></a></li>
          <li><a href="P120-U03.html"><i class="bi bi-circle"></i><span>전력생산이력</span></a></li>
          <li><a href="P120-U04.html"><i class="bi bi-circle"></i><span>전력판매이력</span></a></li>
          <li><a href="P120-U05.html"><i class="bi bi-circle"></i><span>접속이력</span></a></li>
        </ul>
      </li>
      <!-- End antecedents Nav -->
      <!-- Strart measure Nav -->
       <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#measure-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-app"></i><span>계측</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="measure-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li><a href="P130-U01.html"><i class="bi bi-circle"></i><span>등록설비 조회</span></a></li>
          <li><a href="P130-U02.html"><i class="bi bi-circle"></i><span>전력량계 계측결과</span></a></li>
          <li><a href="P130-U03.html"><i class="bi bi-circle"></i><span>기상정보 계측결과</span></a></li>
          <li><a href="P130-U04.html"><i class="bi bi-circle"></i><span>서버자원 계측결과</span></a></li>
        </ul>
      </li>
      <!-- End measure Nav -->
      <!-- Strart statistics Nav -->
       <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#statistics-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-app"></i><span>통계</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="statistics-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li><a href="P140-U02.html"><i class="bi bi-circle"></i><span>발전소구성유형</span></a></li>
          <li><a href="P140-U03.html"><i class="bi bi-circle"></i><span>전력판매효율</span></a></li>
          <li><a href="P140-U04.html"><i class="bi bi-circle"></i><span>발전소별운영성과</span></a></li>
          <li><a href="P140-U05.html"><i class="bi bi-circle"></i><span>발전소별전력판매</span></a></li>
          <li><a href="P140-U06.html"><i class="bi bi-circle"></i><span>발전소별설비효율</span></a></li>
          <li><a href="P140-U07.html"><i class="bi bi-circle"></i><span>발전설비별운영효율</span></a></li>
          <li><a href="P140-U08.html"><i class="bi bi-circle"></i><span>발전소운영환경</span></a></li>
        </ul>
      </li>
      <!-- End statistics Nav -->
      <!-- Strart price Nav -->
      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#price-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-app"></i><span>전력가</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="price-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li><a href="P150-U01.html"><i class="bi bi-circle"></i><span>SMP 육지</span></a></li>
          <li><a href="P150-U02.html"><i class="bi bi-circle"></i><span>SMP 제주</span></a></li>
          <li><a href="P150-U03.html"><i class="bi bi-circle"></i><span>REC</span></a></li>
        </ul>
      </li>
      <!-- End price Nav -->
      <!-- Strart setting Nav -->
      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#setting-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-app"></i><span>관리</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="setting-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
            <li><a href="P030-U01.html"><i class="bi bi-circle"></i><span>발전소 관리</span></a></li>
            <li><a href="P042-U01.html"><i class="bi bi-circle"></i><span>설비 관리</span></a></li>
            <li><a href="P000-L01.html"><i class="bi bi-circle"></i><span>MENU 관리</span></a></li>
            <li><a href="P021-U01.html"><i class="bi bi-circle"></i><span>ROLE 관리</span></a></li>
            <li><a href="P010-U01.html"><i class="bi bi-circle"></i><span>사용자 관리</span></a></li>
            <li><a href="P041-U01.html"><i class="bi bi-circle"></i><span>공통코드 관리</span></a></li>
        </ul>
      </li>
      <!-- End setting Nav -->
    </ul>
  </aside><!-- End Sidebar-->

  
  <main id="main" class="main">
    <section class="section dashboard">
      <!-- 메인구성 목록 시작-->
      <div class="row">
        <!-- 메인 카드 1 시작-->
        <div class="col-md-12 col-lg-5">
          <div class="row">
            <!-- 카드 1 시작-->
            <div class="col-lg-12">
              <div class="card">
                <div class="card-body top-margin-two">
                  <div id="Mapcontainer"></div>
                </div>
              </div>
            </div>
            <!-- 카드 1 끝-->
            <!-- 카드 2 시작-->
            <div class="col-lg-12">
              <div class="card">
                <div class="card-body top-margin-two">
                  <table id="errorDataTable" class="display" style="width:100%;">
                    <thead class="card-table-hw">
                      <tr>
                        <td>발전소명</td>
                        <td>장애코드</td>
                        <td>장애메시지</td>
                        <td>발행시각</td>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <!-- 카드 2 끝-->
          </div>
        </div>
        <!-- 메인 카드 1 끝-->
        <!-- 메인 카드 2 시작-->
        <div class="col-md-12 col-lg-7">
          <div class="row">
            <!-- 카드 3 시작-->
            <div class="col-lg-12">
              <!-- 슬라이드 시작 -->
              <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
                <!-- 슬라이드 페이징 시작 -->
                <div class="carousel-indicators">
                  <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                  <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
                  <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>
                <!-- 슬라이드 페이징 끝 -->
                <div class="carousel-inner">
                  <!-- 1번 슬라이드 시작-->
                  <div class="carousel-item active">
                    <div class="card mb-3"  style="min-height: 300px;">
                      <div class="row g-0">
                        <div class="col-md-5">
                          <div class="card-img-top">
                            <div class="graph_style graph_style_card">
                              <div class="level level01">
                                <span class="img"></span>
                                <strong class="txt">정상</strong>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-7 top-margin-three">
                          <div class="card-body">
                            <div class="row">
                              <div style="margin-bottom: 10px;">
                                피크 예상시간 <strong>09~10</strong>시
                              </div>
                              <div class="row">
                                <h4>최대부하</h4>
                                <div class="col-lg-8">
                                  <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" style="width: 75%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                                </div>
                                <div class="col-lg-4">
                                  <div class="progress-bar_value">75,300 MW</div>
                                </div>
                                <h4>공급예비력</h4>
                                <div class="col-lg-8">
                                  <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar" style="width: 17%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                                </div>
                                <div class="col-lg-4">
                                  <div class="progress-bar_value">17,043 MW</div>
                                </div>
                                <h4>공급예비율</h4>
                                <div class="col-lg-8">
                                  <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width: 23%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                                </div>
                                <div class="col-lg-4">
                                  <div class="progress-bar_value">23 %</div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="carousel-caption d-none d-md-block"></div>
                  </div>
                  <!-- 1번 슬라이드 끝-->
                  <!-- 2번 슬라이드 시작-->
                  <div class="carousel-item">
                    <div class="card mb-3"  style="min-height: 300px;">
                      <div class="row g-0">
                        <div class="col-md-5">
                          <div class="card-img-top">
                            <div class="graph_style graph_style_card">
                              <div class="level level01">
                                <span class="img"></span>
                                <strong class="txt">정상</strong>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-7">
                          <div class="card-body">
                            <div class="row">
                              <h4 class="top-margin-three">공급능력</h4>
                              <div class="col-lg-8">
                                <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated " role="progressbar" style="width: 84%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                              </div>
                              <div class="col-lg-4">
                                <div class="progress-bar_value">83,841 MW</div>
                              </div>
                              <h4>현재부하</h4>
                              <div class="col-lg-8">
                                <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" style="width: 61%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                              </div>
                              <div class="col-lg-4">
                                <div class="progress-bar_value">61,453 MW</div>
                              </div>
                              <h4>공급예비력</h4>
                              <div class="col-lg-8">
                                <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar" style="width: 22%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                              </div>
                              <div class="col-lg-4">
                                <div class="progress-bar_value">22,388 MW</div>
                              </div>
                              <h4>공급예비율</h4>
                              <div class="col-lg-8">
                                <div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width: 36%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div></div>
                              </div>
                              <div class="col-lg-4">
                                <div class="progress-bar_value">36.43 %</div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="carousel-caption d-none d-md-block"></div>
                  </div>
                  <!-- 2번 슬라이드 끝-->
                  <!-- 3번 슬라이드 시작-->
                  <div class="carousel-item">
                    <div class="card mb-3" style="min-height: 300px;">
                      <div class="row g-0">
                        <div class="col-md-6">
                          <div class="card-body top-margin-two">
                            <P style="float:right; margin-bottom: 0%;">(단위: 원/kWh)</P>
                            <table class="table table-bordered border-dark" >
                              <thead>
                                <tr class="table-secondary border-dark">
                                  <th scope="col">구분</th>
                                  <th scope="col">육지</th>
                                  <th scope="col">제주</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td class="table-secondary border-dark fontboard">거래일</td>
                                  <td colspan="2">2022.03.14</td>
                                </tr>
                                <tr>
                                  <td class="table-secondary border-dark fontboard">최고가</td>
                                  <td>198.57</td>
                                  <td>288.69</td>
                                </tr>
                                <tr>
                                  <td class="table-secondary border-dark fontboard">최소가</td>
                                  <td>109.17</td>
                                  <td>192.56</td>
                                </tr>
                                <tr>
                                  <td class="table-secondary border-dark fontboard">평균가</td>
                                  <td>182.98</td>
                                  <td>224.53</td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="card-body top-margin-two">
                            <P style="float:left; margin-bottom: 0%; display: inline;">매주 화, 목요일 10:00 ~ 16:00 개장</P>
                            <P style="float:right; margin-bottom: 0%; display: inline;">(단위: REC,원/REC)</P>
                            <table class="table table-bordered border-dark" >
                              <thead>
                                <tr class="table-secondary border-dark">
                                  <th scope="col" colspan="4">1REC=1MWh(가중치에 따라 변동)</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td class="table-secondary border-dark fontboard">거래일</td>
                                  <td colspan="3">2022.03.14</td>
                                </tr>
                                <tr>
                                  <td class="table-secondary border-dark fontboard">최고가</td>
                                  <td>41,500</td>
                                  <td class="table-secondary border-dark fontboard">거래량</td>
                                  <td>71,157</td>
                                </tr>
                                <tr>
                                  <td class="table-secondary border-dark fontboard">최저가</td>
                                  <td>36,000</td>
                                  <td class="table-secondary border-dark fontboard">종가</td>
                                  <td>40,500</td>
                                </tr>
                                <tr>
                                  <td class="table-secondary border-dark fontboard">평균가</td>
                                  <td>40,546</td>
                                  <td></td>
                                  <td></td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="carousel-caption d-none d-md-block"></div>
                  </div>
                  <!-- 3번 슬라이드 끝-->
                </div>
              </div>
              <!-- 슬라이드 끝 -->
            </div>
            <!-- 카드 3 끝-->
            <!-- 카드 4 시작-->
            <div class="col-md-4 col-lg-4">
              <div class="card top-margin-three card-overflow">
                <div class="card-body">
                  <div id="solid1"></div>
                </div>
              </div>
            </div>
            <!-- 카드 4 끝-->
            <!-- 카드 5 시작-->
            <div class="col-md-4 col-lg-4">
              <div class="card top-margin-three card-overflow">
                <div class="card-body">
                  <div id="solid2"></div>
                </div>
              </div>
            </div>
            <!-- 카드 5 끝-->
            <!-- 카드 6 시작-->
            <div class="col-md-4 col-lg-4">
              <div class="card top-margin-three card-overflow">
                <div class="card-body">
                  <div id="solid3"></div>
                </div>
              </div>
            </div>
            <!-- 카드 6 끝-->
            <!-- 카드 7 시작-->
            <div class="col-lg-12">
              <div class="card">
                <div class="card-body">
                  <div id="dynamicUpdate" class="top-margin-two"></div>
                </div>
              </div>
            </div>
            <!-- 카드 7 끝-->
          </div>
        </div>
        <!-- 메인 카드 2 끝-->
      </div>
      <!-- 메인 설정 목록 종료-->
    </section>
  </main>
  

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">
    <div class="copyright">&copy; Copyright <strong><span>EN-IMS</span></strong>. All Rights Reserved</div>
  </footer>
  <!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- jquery JS Files -->
  <script src="assets/js/jquery.min.js"></script>
  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <!-- Data Tables JS Files -->
  <script src="assets/vendor/DataTables/datatables.min.js"></script>
  <!-- highcharts -->
  <script src="./highchartsmaps/code/proj4.js"></script>
  <script src="./highchartsmaps/code/highmaps.js"></script>
  <script src="./highchartsmaps/code/highcharts-more.js"></script>
  <script src="./highchartsmaps/code/modules/exporting.js"></script>
  <script src="./highchartsmaps/code/modules/offline-exporting.js"></script>
  <!-- highcharts map-->
  <script src="./highchartsmaps/code/kr-all.js"></script>
  <!-- highcharts solid-->
  <script src="./highcharts/code/modules/solid-gauge.js"></script>
  <script src="./mk/js/mkgaugeChartOption.js"></script>

  <script>

    function getTime(){
      var today = new Date();
      var systime = today.toLocaleString();
      document.getElementById('spanTime').textContent = systime;
    }
    function init(){
      setInterval(getTime, 1000);
    }
    init();

  </script>

  <script>
    $(document).ready(function () {
        $('#errorDataTable').DataTable({
          // 표시 건수기능 숨기기
          lengthChange: false,
          // 한 페이지에 표시되는 Row 수
          pageLength: 3,
          //검색막기
          searching: false,
          info: false
        });
    });
  </script>

  
  <script>

    var myCarousel = document.querySelector('#carouselExampleDark')
    var carousel = new bootstrap.Carousel(myCarousel, {
      interval: 5000,
      wrap: true
    })
    
  </script>

  <script>
    
    const newData = [
        ['kr-kn', 35.25, 128.11, '1번 발전소', 1]
        ,['kr-kn', 35.25, 128.22, '2번 발전소', 1]
        ,['kr-kn', 35.25, 128.33, '3번 발전소', 3]
        ,['kr-kg', 37.51, 127.31, '4번 발전소', 1]
        //,['kr-cb', 37.01, 128.12, '3번 발전소']
        //['kr-4194', 1], ['kr-kg', 1], ['kr-cb', 1], ['kr-kn', 1],
        //['kr-2685', 14], ['kr-pu', 15], ['kr-2688', 30], ['kr-sj', 1],
        //['kr-tj', 18], ['kr-ul', 19], ['kr-in', 30], ['kr-kw', 1],
        //['kr-gn', 22], ['kr-cj', 23], ['kr-gb', 30], ['kr-so', 1],
        //['kr-tg', 26], ['kr-kj', 27]
    ];

    function getTemp(point, countries, capitals) {
        
      const temp = point[4];
        const colorAxis = countries.chart.colorAxis[0];

        const country = {
            'hc-key': point[0],
            value: parseInt(temp, 10) || null
        };

        if(temp == 1){
          const capital1 = {
            name: point[3],
            lat: point[1],
            lon: point[2],
            color: '#00CED1',
            temp: parseInt(temp, 10) || '정상'
        };
        capitals.addPoint(capital1);
        countries.addPoint(country);
        }else{
          const capital2 = {
            name: point[3],
            lat: point[1],
            lon: point[2],
            color: '#E5DD45',
            temp: parseInt(temp, 10)
        };
        capitals.addPoint(capital2);
        countries.addPoint(country);
        }

        
        
    }



    // Create the chart
    Highcharts.mapChart('Mapcontainer', {
    chart: {
        map: 'countries/kr/kr-all',
        animation: false,
        events: {
            load: function () {
                var countries = this.series[0];
                var capitals = this.series[1];

                
                newData.forEach(function (elem) {
                    getTemp(elem, countries, capitals);
                });
            }
        },
        
    },

    title: null,

    mapNavigation: {
        enabled: true,
        
        buttonOptions: {
            verticalAlign: 'bottom'
        }
    },

    tooltip: {
        headerFormat: '<span style="color:{point.color}">\u25CF</span> {point.key}: ',
        pointFormatter: function () {
            var value = Number.isInteger(this.temp) ? this.temp + '단계' : 'No data';
            var valuenm = "";
            if(value=="1단계"){
                valuenm = "정상"
            }else{
                valuenm = "위험"
            }

            return '<b>' + valuenm + '</b>';
        }
    },

    colorAxis: {
        min: 1,
        max: 3,
        labels: {
            format: '{value}단계'
        },
        stops: [
            [0, '#4E85F2'],
            [1, '#EF355E']
        ]
    },


    plotOptions: {
        mappoint: {
            cluster: {
                enabled: true,
                allowOverlap: false,
                animation: {
                duration: 100
                },
                zones: [
                { from: 1, to: 4, marker: {radius: 13}}
                ,{from: 5, to: 9, marker: {radius: 15}}
                ,{from: 10, to: 15, marker: { radius: 17}}
                ,{from: 16, to: 20, marker: { radius: 19}}
                ,{from: 21, to: 100, marker: { radius: 21}}
                ]
            }
        }
    },

    series: [{
        name: '발전소',
        borderColor: '#000000',
        nullColor: '#CECCCC',
        states: {
            hover: {
                color: '#BADA55'
            }
        },
        dataLabels: {
            enabled: false
        },
        enableMouseTracking: false
    }, {
        name: '발전소',
        type: 'mappoint',
        showInLegend: false,
        marker: {
            lineWidth: 1,
            lineColor: '#000'
        },
        dataLabels: {
            crop: true,
            formatter: function () {
                var value = Number.isInteger(this.point.temp) ? this.point.temp + '단계' : 'No data';
                var valuenm = "";
                if(value=="1단계"){
                    valuenm = " : 정상"
                }else{
                    valuenm = " : 위험"
                }
                return '<span>' + this.key + '</span>';
            }
        }
    }]
    });
  </script>

  <script>

    var chartRpm1 = Highcharts.chart('solid1', mkgaugeChartOption);

    var point11 = chartRpm1.series[0].points[0];
    var point12 = chartRpm1.series[1].points[0];

    chartRpm1.setTitle({text: "발전량"});
    point11.update(30);
    point12.update(30);

    var chartRpm2 = Highcharts.chart('solid2', mkgaugeChartOption);

    var point21 = chartRpm2.series[0].points[0];
    var point22 = chartRpm2.series[1].points[0];
    
    chartRpm2.setTitle({text: "생산량"});
    point21.update(60);
    point22.update(60);

    var chartRpm3 = Highcharts.chart('solid3', mkgaugeChartOption);

    chartRpm3.setTitle({text: "판매량"});
    var point31 = chartRpm3.series[0].points[0];
    var point32 = chartRpm3.series[1].points[0];

    point31.update(90);
    point32.update(90);

  </script>
  
  <script>
    Highcharts.chart('dynamicUpdate', {
      chart: {
          type: 'spline',
          marginRight: 10,
          events: {
              load: function () {

                  // set up the updating of the chart each second
                  var series = this.series[0];
                  var series1 = this.series[1];
                  var series2 = this.series[2];
                  setInterval(function () {
                      var x = (new Date()).getTime(), // current time
                          y = Math.floor( ( Math.random()*(1000-1)+100));
                          y2 = Math.floor( ( Math.random()*(1000-1)+100));
                          y3 = Math.floor( ( Math.random()*(1000-1)+100));
                      series.addPoint([x, y], true, true);
                      series1.addPoint([x, y2], true, true);
                      series2.addPoint([x, y3], true, true);
                  }, 60000);
              }
          }
      },

      time: {
          useUTC: false
      },

      title: null,

      accessibility: {
          announceNewData: {
              enabled: true,
              minAnnounceInterval: 1200000,
              announcementFormatter: function (allSeries, newSeries, newPoint) {
                  if (newPoint) {
                      return 'New point added. Value: ' + newPoint.y;
                  }
                  return false;
              }
          }
      },

      xAxis: {
          type: 'datetime',
          tickPixelInterval: 120
      },

      yAxis: {
          title: {
              text: '전력량'
          },
          plotLines: [{
              value: 0,
              width: 1,
              color: '#808080'
          }]
      },

      tooltip: {
          headerFormat: '<b>{series.name}</b><br/>',
          pointFormat: '{point.x:%Y-%m-%d %H:%M:%S}<br/>{point.y:.2f}'
      },

      legend: {
          enabled: false
      },

      exporting: {
          enabled: false
      },

      series: [{
          name: '생산량',
          color: '#0000FF',
          data: (function () {
              // generate an array of random data
              var data = [],
                  time = (new Date()).getTime(),
                  i;

              for (i = -19; i <= 0; i += 1) {
                  data.push({
                      x: time + i * 30000,
                      y: 0
                  });
              }
              return data;
          }())
      },{
        name: '판매량',
        color: '#00FF7F',
        data: (function () {
            // generate an array of random data
            var data = [],
                time = (new Date()).getTime(),
                i;

            for (i = -19; i <= 0; i += 1) {
                data.push({
                    x: time + i * 30000,
                    y: 0
                });
            }
            return data;
        }())
    },{
      name: '발전량',
      color: '#FF0000',
      data: (function () {
          // generate an array of random data
          var data = [],
              time = (new Date()).getTime(),
              i;

          for (i = -19; i <= 0; i += 1) {
              data.push({
                  x: time + i * 30000,
                  y: 0
              });
          }
          return data;
      }())
    }]
    });
  </script>




</html>